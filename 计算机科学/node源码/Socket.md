# Socket

socket是什么？

socket五元组：协议，源ip、端口，目标ip、端口



socket 的原意是“插座”，在计算机通信领域，socket 被翻译为“套接字”，计算机之间通信的一种约定。

一切皆文件，socket也是，任何一个文件都有文件描述符：File Descriptor。它也有文件描述符例如：

为了表示和区分已经打开的文件，UNIX/Linux 会给每个文件分配一个 ID，这个 ID 就是一个整数，被称为文件描述符（File Descriptor）。例如：

- 通常用 0 来表示标准输入文件（stdin），它对应的硬件设备就是键盘；
- 通常用 1 来表示标准输出文件（stdout），它对应的硬件设备就是显示器。

只要用 socket() 创建了连接，剩下的就是文件操作了，网络编程原来就是如此简单！

## 流格式套接字（SOCK_STREAM）

TCP：可靠的、双向的通信数据流

**我们都知道 `TCP` 连接由四元组唯一确定**

## 缓冲区

socket 传输的数据将保存到这个缓冲区。接收端在收到数据后并不一定立即读取，只要数据不超过缓冲区的容量，可在缓冲区被填满后一次性读取，也可能分成好几次读取。

传送端有自己的节奏，接收端也有自己的节奏，它们是不一致的。

## 数据报格式套接字（SOCK_DGRAM）：无连接的套接字

数据报套接字是一种不可靠的、不按顺序传递的、以追求速度为目的的套接字。UDP



总结：socket是文件，建立起全双工的 Socket 后，用户程序就可以监听 「data」事件，获取数据了。

